# 画像・動画仕分け管理

## 概要

このPythonプログラムは、一般的な画像・動画ファイルとRaw画像を設定したルールで仕分けできるものです。設定できるルールは撮影日時のデータに関するもののみです。

## 制作動機

既存のものはファイルのメタデータを参照していたため、保存するPC（僕の場合はNAS）と時計が狂っていると、正しく仕分けできませんでした。また、ファイル内のExifを参照していても、動画ファイルやRaw画像の仕分けはファイルのメタデータを参照していたため、万能ではありませんでした。そこで、画像はExif、動画はファイルに埋め込まれていめメタデータを参照して仕分けするものを作ろうと思いました。

[elodie](https://github.com/jmathai/elodie)←作り始めた後に気づいた

## 特徴

- 一般的な画像ファイル、動画ファイル、Raw画像のファイルに対応
  - 対応しているファイルは依存ライブラリのExifReadとffmpegに依存
- 撮影日時を元にしたルールで仕分け
- 仕分けのルールはJSON形式で設定
- UNCパスに対応
  - パス周りはPathlibを使用

## 使い方

1. `clone https://github.com/ToYama170402/media-foldering.git`
2. `pip install -r requirements.txt`
3. `setting.json`で設定
4. `python media_foldering.py`

## 設定方法

現状はデフォルトの状態の`key`しか受け付けません。

- `InputDir`：仕分けされるファイルを含むディレクトリ指定します
- `OutputDir`：仕分け先を指定します
- `NamePattern`：仕分けファイルの`OutputDir`以下のパスのルールを指定します

## 注意点

- 画像や動画ファイル以外も読み込んでエラーになる
- それなりに時間がかかる

## 今後の展望

- Webベースで誰でも簡単に管理できるシステムにしたい
- 設定できる項目を増やしたい
- 処理時間を短縮したい
- ファイル追加後に自動的に仕分けできるようにしたい
- マイナーなファイルにも対応したい（動画のRawとか）
